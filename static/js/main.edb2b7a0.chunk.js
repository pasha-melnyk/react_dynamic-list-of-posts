(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(6),s=n.n(c),a=n(2),r=n(1),i=(n(12),n(13),n(4)),o=n(3),u=n.n(o),l=n(7),j=n.n(l),b="https://mate.academy/students-api";function d(e){return m.apply(this,arguments)}function m(){return(m=Object(i.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(b).concat(t));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return fetch("".concat(b,"/comments/").concat(e),{method:"DELETE"})}function h(e){var t=e.postId,n=e.name,c=e.email,s=e.body;return fetch("".concat(b,"/comments/"),{method:"POST",headers:{"Content-type":"application/json; charset=utf-8"},body:JSON.stringify({postId:t,name:n,email:c,body:s})})}n(15);var O=n(0),f=function(){return Object(O.jsx)("div",{className:"Loader",children:Object(O.jsx)("div",{className:"Loader__content"})})},x=(n(17),function(e){var t=e.selectedUserId,n=e.selectPostId,c=e.changePostDetailsVisibility,s=e.selectedPostId,o=Object(r.useState)([]),l=Object(a.a)(o,2),b=l[0],m=l[1],p=Object(r.useState)(!0),h=Object(a.a)(p,2),x=h[0],v=h[1],_=function(){var e=Object(i.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d("/posts".concat((c=t)?"?userId=".concat(c):""));case 2:n=e.sent,m(n),v(!1);case 5:case"end":return e.stop()}var c}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){v(!0),_()}),[t]);return Object(O.jsxs)("div",{className:"PostsList",children:[Object(O.jsx)("h2",{children:"Posts:"}),x?Object(O.jsx)(f,{}):Object(O.jsx)("ul",{className:"PostsList__list",children:b.map((function(e){return Object(O.jsxs)("li",{className:"PostsList__item",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("b",{children:"[User #".concat(e.userId,"]: ")}),e.title]}),Object(O.jsx)("button",{type:"button",className:j()("PostsList__button","button",{"PostsList__button--selected":e.id===s}),onClick:function(){return t=e.id,n(t),s||c(),void(s===t&&(c(),n(0)));var t},children:e.id===s?"Close":"Open"})]},e.id)}))})]})}),v=(n(18),function(e){var t=e.onAddComment,n=Object(r.useState)(""),c=Object(a.a)(n,2),s=c[0],i=c[1],o=Object(r.useState)(""),u=Object(a.a)(o,2),l=u[0],j=u[1],b=Object(r.useState)(""),d=Object(a.a)(b,2),m=d[0],p=d[1],h=function(e){var t=e.target,n=t.name,c=t.value;switch(n){case"userName":i(c);break;case"email":j(c);break;case"body":p(c);break;default:throw new Error("Invalid input name")}};return Object(O.jsxs)("form",{className:"NewCommentForm",onSubmit:function(e){e.preventDefault(),t(s,l,m),i(""),j(""),p("")},children:[Object(O.jsx)("div",{className:"form-field",children:Object(O.jsx)("input",{type:"text",name:"userName",value:s,placeholder:"Your name",className:"NewCommentForm__input",onChange:h})}),Object(O.jsx)("div",{className:"form-field",children:Object(O.jsx)("input",{type:"text",name:"email",value:l,placeholder:"Your email",className:"NewCommentForm__input",onChange:h})}),Object(O.jsx)("div",{className:"form-field",children:Object(O.jsx)("textarea",{name:"body",value:m,placeholder:"Type comment here",className:"NewCommentForm__input",onChange:h})}),Object(O.jsx)("button",{type:"submit",className:"NewCommentForm__submit-button button",children:"Add a comment"})]})}),_=(n(19),function(e){var t=e.selectedPostId,n=Object(r.useState)({}),c=Object(a.a)(n,2),s=c[0],o=c[1],l=Object(r.useState)([]),j=Object(a.a)(l,2),b=j[0],m=j[1],x=Object(r.useState)(!0),_=Object(a.a)(x,2),N=_[0],y=_[1],w=Object(r.useState)(!0),P=Object(a.a)(w,2),S=P[0],C=P[1],k=Object(r.useState)(!0),I=Object(a.a)(k,2),g=I[0],D=I[1],L=Object(r.useState)(!0),A=Object(a.a)(L,2),E=A[0],F=A[1],G=function(){var e=Object(i.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d("/posts/".concat(t));case 2:n=e.sent,o(n),C(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(i.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d("/comments?postId=".concat(t));case 2:n=e.sent,m(n),C(!1),D(!1),F(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){C(!0),G(),J()}),[t]);var T=function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D(!0),!t){e.next=6;break}return e.next=4,p(t);case 4:return e.next=6,J();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(i.a)(u.a.mark((function e(n,c,s){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),a={postId:t,name:n,email:c,body:s},e.next=4,h(a);case 4:return e.next=6,J();case 6:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"PostDetails",children:[Object(O.jsx)("h2",{children:"Post details:"}),S?Object(O.jsx)(f,{}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("section",{className:"PostDetails__post",children:Object(O.jsx)("p",{children:s.body})}),Object(O.jsxs)("section",{className:"PostDetails__comments",children:[!!b.length&&Object(O.jsx)("button",{type:"button",className:"button",onClick:function(){return y((function(e){return!e}))},children:N?"Hide ".concat(b.length," comments"):"Show ".concat(b.length," comments")}),N&&Object(O.jsx)("ul",{className:"PostDetails__list",children:b.map((function(e){return Object(O.jsxs)("li",{className:"PostDetails__list-item",children:[Object(O.jsx)("button",{type:"button",className:"PostDetails__remove-button button",onClick:function(){return T(e.id)},children:"X"}),Object(O.jsx)("p",{children:e.body})]},e.id)}))})]}),g&&Object(O.jsx)(f,{}),Object(O.jsxs)("section",{children:[Object(O.jsx)("div",{className:"PostDetails__form-wrapper",children:Object(O.jsx)(v,{onAddComment:U})}),E&&Object(O.jsx)(f,{})]})]})]})}),N=function(){var e=Object(r.useState)(0),t=Object(a.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(0),i=Object(a.a)(s,2),o=i[0],u=i[1],l=Object(r.useState)(!1),j=Object(a.a)(l,2),b=j[0],d=j[1];return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)("header",{className:"App__header",children:Object(O.jsxs)("label",{htmlFor:"select-user",children:["Select a user: \xa0",Object(O.jsxs)("select",{className:"App__user-selector",id:"select-user",value:n,onChange:function(e){c(+e.target.value),d(!1),u(0)},children:[Object(O.jsx)("option",{value:"0",children:"All users"}),Object(O.jsx)("option",{value:"1",children:"Leanne Graham"}),Object(O.jsx)("option",{value:"2",children:"Ervin Howell"}),Object(O.jsx)("option",{value:"3",children:"Clementine Bauch"}),Object(O.jsx)("option",{value:"4",children:"Patricia Lebsack"}),Object(O.jsx)("option",{value:"5",children:"Chelsey Dietrich"}),Object(O.jsx)("option",{value:"6",children:"Mrs. Dennis Schulist"}),Object(O.jsx)("option",{value:"7",children:"Kurtis Weissnat"}),Object(O.jsx)("option",{value:"8",children:"Nicholas Runolfsdottir V"}),Object(O.jsx)("option",{value:"9",children:"Glenna Reichert"}),Object(O.jsx)("option",{value:"10",children:"Leanne Graham"})]})]})}),Object(O.jsxs)("main",{className:"App__main",children:[Object(O.jsx)("div",{className:"App__sidebar",children:Object(O.jsx)(x,{selectedUserId:n,selectPostId:function(e){u(e)},changePostDetailsVisibility:function(){d((function(e){return!e}))},selectedPostId:o})}),Object(O.jsx)("div",{className:"App__content",children:!!o&&b&&Object(O.jsx)(_,{selectedPostId:o})})]})]})};s.a.render(Object(O.jsx)(N,{}),document.getElementById("root"))}],[[20,1,2]]]);
//# sourceMappingURL=main.edb2b7a0.chunk.js.map